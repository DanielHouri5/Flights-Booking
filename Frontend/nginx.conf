# Nginx configuration file for serving the frontend application

worker_processes 1;  # Number of worker processes (suitable for simple dev/prod use)

events {
    worker_connections 1024;  # Maximum number of simultaneous connections
}

http {
    include       mime.types;  # Include MIME type definitions
    default_type  application/octet-stream;  # Default MIME type

    sendfile        on;  # Enable efficient file transfers

    server {
        listen 8080;  # Listen on port 8080

        location / {
            root /usr/share/nginx/html;  # Serve files from this directory
            index index.html index.htm;  # Default index files
            try_files $uri $uri/ /index.html;  # SPA fallback: serve index.html for unknown routes
        }

        error_page 500 502 503 504 /50x.html;  # Custom error page for server errors

        location = /50x.html {
            root /usr/share/nginx/html;  # Serve the error page from this directory
        }
    }
}